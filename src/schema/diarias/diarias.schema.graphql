scalar DateTime

input DateRangeInput {
  from: DateTime!
  to: DateTime!
}

# Define o tipo para os filtros que podemos receber
input DiariasFilters {
  dateRange: DateRangeInput
  department: [String!]
  status: String!
  process: String
  paymentDate: String
}

input DiariasTableFilters {
  datetime: String
  department: String
  employee: String
  status: String
}

# Dados para os KPIs
type KpiData {
  totalGasto: Float
  totalDiarias: Int
}

# Dados para o gráfico de Top Orgaos
type OrgaoGastoDiaria {
  name: String!
  total: Float!
}

# Dados para o gráfico de Gasto Mensal
type GastoMesDiaria {
  month: String!
  total: Float!
}

type DiariasCharts {
  GastoMesDiaria: [GastoMesDiaria]!
  OrgaoGastoDiaria: [OrgaoGastoDiaria]!
}

type Diarias {
  department: String
  budgetUnit: String
  action: String
  expensePlan: String
  resourceSource: String
  expenseType: String
  payment: String
  paymentDate: String
  settlement: String
  commitment: String
  employee: String
  history: String
  processNumber: String
  defaultDate: String
  delayDays: String
  approvedDate: String
  canceledDate: String
  amountToApprove: Float
  amountApproved: Float
  amountCanceled: Float
  amountGranted: Float
  balance: Float
}
# O tipo Diaria para a tabela
type DiariaTable {
  department: String
  amountGranted: Float
  status: String
  employee: String
  paymentDate: String
  processNumber: String
}

type FilterOption {
  value: String
  label: String
}

type FilterOptionsDiaria {
  department: [FilterOption!]
  status: [FilterOption!]
  processNumber: [FilterOption!]
  paymentDate: [FilterOption!]
}

# A Query principal
type Query {
  getDiarias(filters: DiariasFilters): [Diarias]
  getDiariasTable(
    limit: Int
    offset: Int
    sortBy: String
    sortDirection: String
    filters: DiariasFilters
    tableFilters: DiariasTableFilters
  ): [DiariaTable!]

  getDiariasTableCount(
    filters: DiariasFilters
    tableFilters: DiariasTableFilters
  ): Int!

  getDiariasLastUpdate: String!
  getDiariasKpi(filters: DiariasFilters): KpiData!
  getDiariasCharts(filters: DiariasFilters): DiariasCharts!
  getDiariasFiltersOptions(filters: DiariasFilters): FilterOptionsDiaria!
}
